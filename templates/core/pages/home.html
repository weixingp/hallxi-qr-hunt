{% extends "core/base.html" %}
{% load thumbnail %}
{% load static %}
{% load i18n %}
{% block head_title %}{% trans "Home | HALL XI BoB" %}{% endblock %}
{% block extra_head %}
    <style>
        .icon-container {
            display:inline-block;
            position:relative;
        }
        .visited-badge {
            top:6px;
            position:absolute;
            right:6px;
        }
    </style>
{% endblock %}
{% block body %}

    <!-- loader -->
    <div id="loader">
        <div class="spinner-border text-primary" role="status"></div>
    </div>
    <!-- * loader -->

    <!-- App Header -->
    <div class="appHeader bg-primary scrolled">
        <div class="left">
            <a href="#" class="headerButton" data-toggle="modal" data-target="#sidebarPanel">
                <ion-icon name="menu-outline"></ion-icon>
            </a>
        </div>
        <div class="pageTitle">
            Home
        </div>
        <div class="right">
            <a href="javascript:;" class="headerButton toggle-searchbox">
                <ion-icon name="search-outline"></ion-icon>
            </a>
        </div>
    </div>
    <!-- * App Header -->

    <!-- App Capsule -->
    <div id="appCapsule" class="full-height">

        {#        <div class="header-large-title">#}
        {#            <h1 class="title">Home</h1>#}
        {#            <h4 class="subtitle">Enjoy your game.</h4>#}
        {#        </div>#}

        <!-- Block Info -->
        <div class="section mt-3 mb-3">
            <div class="card">
                <div class="card-body">
                    <div>
                        <h6 class="card-subtitle">You belong to</h6>
                        <h5 class="card-title mb-0 d-flex align-items-center justify-content-between">
                            Block {{ profile.block.name }}
                        </h5>

                        <p class="mt-1 mb-0"><b>HP:</b> 1186 / 2000</p>
                        <div class="progress">
                            <div class="progress-bar bg-success" role="progressbar" style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">75%</div>
                        </div>

                        <p class="mt-1 mb-0"><b>Exploration:</b> 20 / 112</p>
                        <div class="progress">
                            <div class="progress-bar bg-warning" role="progressbar" style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">25%</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- * Block Info -->

        <!-- Assigned Location Cards -->
        <div class="section full mt-3 mb-3">
            <div class="section-title"><h2>Daily Locations</h2></div>
            <div class="content-header mb-1"><h5 class="text-muted">Scan QR code at these locations to gain points and get items for your hall. Locations will be refreshed daily.</h5></div>
            <div class="carousel-multiple owl-carousel owl-theme">
                {% for assigned_location in assigned_locations %}
                    <div class="item">
                        <div class="card">
                            {% if assigned_location.has_visited %}
                                <span class="badge visited-badge badge-success mb-1">visited</span>
                            {% endif %}
                            {% thumbnail assigned_location.location.image "870x660" crop="center" as im %}
                                <img src="{{ im.url }}" class="card-img-top" alt="image">
                            {% endthumbnail %}
                            <div class="card-body pt-2">
                                <h4 class="mb-0">{{ assigned_location.location.name }} </h4>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
        <!-- * Assigned Location Cards -->
    </div>
    <!-- * App Capsule -->
    {% include "core/sidebar.html" %}
    {% include "core/menu.html" %}
{% endblock %}